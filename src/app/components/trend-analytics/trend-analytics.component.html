<div id="timelinedashbaord">
  <h2
    style="
      text-align: center;
      background-color: #36acd2;
      color: white;
      font-size: x-large;
      font-weight: bolder;
    "
  >
    Timeline Comparison
  </h2>
  <div class="row">
    <div class="col-sm-3">
      <ng-select
        [items]="productTypes"
        bindLabel="name"
        placeholder="Select Domain"
        [(ngModel)]="selectedproductType"
        (change)="onChangedropdown(selectedproductType, 'domain')"
        [clearable]="false"
        style="height: 100%;"
      >
      </ng-select>
    </div>
    <div class="col-sm-3">
      <!-- <ng-select
        [items]="productTypes"
        bindLabel="name"
        placeholder="Select Domain"
        [(ngModel)]="selectedproductType"
        (change)="onTypeSelect(selectedproductType)"
        [clearable]="false"
        style="height: 100%;"
      >
      </ng-select> -->
      <ng-select [items]="productFamily" bindLabel="name" placeholder="Product Family" [(ngModel)]="selectProductFamily"
      (change)="onChangedropdown(selectProductFamily,'ProductFamily')" [clearable]="false">
    </ng-select>
    </div>
    <div class="col-sm-6">
      <ng-select
        [items]="quarterList"
        bindLabel="name"
        groupBy="Year"
        [maxSelectedItems]="5"
        [multiple]="true"
        [compareWith]="compareAccounts"
        [selectableGroup]="true"
        placeholder="All Period(s)"
        [(ngModel)]="selectedPeriod"
        (change)="onChangedropdown(selectedPeriod, 'quarter')"
      >
        <ng-template
          ng-option-tmp
          let-item="item"
          let-item$="item$"
          let-index="index"
        >
          <input
            id="item-{{ index }}"
            type="checkbox"
            [ngModel]="item$.selected"
          />{{ item.name }}
        </ng-template>
      </ng-select>
    </div>
  </div>
  <div class="row mt-2">
    <div class="col-sm-12">
      <ng-select
        class="custom"
        [items]="productList"
        bindLabel="name"
        [maxSelectedItems]="5"
        [multiple]="true"
        placeholder="All Product(s)"
        (change)="onChangedropdown(selectedProduct, 'product')"
        [(ngModel)]="selectedProduct"
      >
        <ng-template
          ng-option-tmp
          let-item="item"
          let-item$="item$"
          let-index="index"
        >
          <input
            id="item-{{ index }}"
            type="checkbox"
            [ngModel]="item$.selected"
          />
          {{ item.name }}
        </ng-template>
      </ng-select>
    </div>
  </div>
  <br />


  <div class="TimelineCompGraph">
    <div class="row">
      <div class="col-sm-4 col-md-4 col-12">
        <div class="cardTimeLine">
          <div class="card-header text-center text-center">Product(s) Summary : Cumulative</div>
          <div class="card-body_TimeLine" style="height: 550px;">
            <ngx-charts-bar-vertical-2d
            class="ProSum"

            [scheme]="colorScheme1"
            [results]="showcul"
            [xAxis]="showXAxis"
            [yAxis]="showYAxis"
            [legend]="showLegend"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="''"
            [yAxisLabel]="'Count'"
            [yAxisTickFormatting]="formatxAxis"
            [legendTitle]="legendTitle"
            [legendPosition]="'below'"
          >
          </ngx-charts-bar-vertical-2d>
          </div>
          <div class="card-footer_TimeLineComp"></div>
        </div>

      </div>
      <div class="col-sm-4 col-md-4 col-12">
        <div class="cardTimeLine">
          <div class="card-header text-center text-center">Product(s) Summary : Review Period</div>
          <div class="card-body_TimeLine" style="height: 550px;">
            <ngx-charts-bar-vertical-2d
            class="ProSum"

            [scheme]="colorScheme1"
            [results]="showcompare1"
            [xAxis]="showXAxis"
            [yAxis]="showYAxis"
            [legend]="showLegend"
            [showXAxisLabel]="showXAxisLabel"
            [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="''"
            [yAxisLabel]="'Count'"
            [yAxisTickFormatting]="formatxAxis"
            [legendTitle]="legendTitle"
            [legendPosition]="'below'"
          >
          </ngx-charts-bar-vertical-2d>
          </div>
          <div class="card-footer_TimeLineComp"></div>
        </div>

      </div>
      <div class="col-sm-4 col-md-4 col-6">
        <div class="colrow">
          <div class="row-sm-6 mb-1">
            <div class="cardTimeLine">
              <div class="cardheader_col text-center">Signals Detected and Events</div>
              <div class="card-body_TimeLine" style="height: 234px;">

                <ngx-charts-bar-vertical-2d

                [scheme]="colorScheme1"
                [results]="detecteddata"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis"
                [legend]="showLegend"
                [xAxisTickFormatting]=""
                [showXAxisLabel]="showXAxisLabel"
                [showYAxisLabel]="showYAxisLabel"
                [xAxisLabel]="''"
                [yAxisLabel]="'Count'"
                [maxXAxisTickLength]="maxXAxisTickLength"
                [yAxisTickFormatting]="formatxAxis"
                [legendTitle]="legendTitle"
                [legendPosition]="'below'"
              >
              </ngx-charts-bar-vertical-2d>
              </div>
              <div class="card-footer_TimeLineComp"></div>

            </div>
          </div>
          <div class="row-sm-6 mt-1">
            <div class="cardTimeLine">
              <div class="cardheader_col text-center">Signals Validated</div>
              <div class="card-body_TimeLine" style="height: 234px;">

                <ngx-charts-bar-vertical-2d

                [scheme]="colorScheme"
                [results]="validateddata"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis"
                [legend]="showLegend"
                [showXAxisLabel]="showXAxisLabel"
                [showYAxisLabel]="showYAxisLabel"
                [xAxisLabel]="''"
                [yAxisLabel]="'Count'"
                [maxXAxisTickLength]="maxXAxisTickLength"
                [yAxisTickFormatting]="formatxAxis"
                [legendTitle]="legendTitle"
                [legendPosition]="'below'"
              >
              </ngx-charts-bar-vertical-2d>
              </div>
              <div class="card-footer_TimeLineComp"></div>

            </div>
          </div>
        </div>

      </div>
    </div>
  </div>


</div>

<div class="d-flex float-right">
  <button class="btn btn-primary" (click)="download()">
    Download<fa-icon [icon]="faDownload" size="xs"></fa-icon>
  </button>
</div>
